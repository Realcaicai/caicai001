程序计数器，Java虚拟机栈，本地方法栈(stack) - not shared
Java堆（heap), 方法区 - shared

分配内存块的方式取决于Java堆是否规整，分为指针碰撞（规整）和空闲列表（不规整）两种；
是否规整又于采取的垃圾回收器是否带有压缩整理功能有关。

对象在内存中存储的布局分为：对象头（对象的运行时数据+类型指针），实例数据和对齐填充（对象都是8字节的整数倍，占位符填充）

intern()
JDK 1.6 - 会把首次遇到的字符串实例复制到永久代
JDK 1.7 - 不会再复制实例，只是在常量池中记录首次出现到实例引用

内存管理经常会用到引用计数算法，但是这个算法很难解决对象之间互相引用的问题 <-> 可达性分析算法

垃圾回收算法
1. 标记-清除算法  2. 复制算法（1:1 -> 较大的Eden和两较小的Survivor,每次都把Eden和其中一个Survivor上的存活对象都
放到另一个Survivor上，前提是对象存活率不高） 3. 标记-整理算法 4. 分代收集算法=Java堆新生代用标记复制，老年代用标记清
理或者标记整理

G1收集器 ****